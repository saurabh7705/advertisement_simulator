jvm.AbstractElement=function(b,a){this.node=this.createElement(b);this.name=b;this.properties={};if(a){this.set(a)}};jvm.AbstractElement.prototype.set=function(c,b){var a;if(typeof c==="object"){for(a in c){this.properties[a]=c[a];this.applyAttr(a,c[a])}}else{this.properties[c]=b;this.applyAttr(c,b)}};jvm.AbstractElement.prototype.get=function(a){return this.properties[a]};jvm.AbstractElement.prototype.applyAttr=function(b,a){this.node.setAttribute(b,a)};jvm.AbstractElement.prototype.remove=function(){jvm.$(this.node).remove()};jvm.AbstractCanvasElement=function(b,c,a){this.container=b;this.setSize(c,a);this.rootElement=new jvm[this.classPrefix+"GroupElement"]();this.node.appendChild(this.rootElement.node);this.container.appendChild(this.node)};jvm.AbstractCanvasElement.prototype.add=function(a,b){b=b||this.rootElement;b.add(a);a.canvas=this};jvm.AbstractCanvasElement.prototype.addPath=function(a,c,d){var b=new jvm[this.classPrefix+"PathElement"](a,c);this.add(b,d);return b};jvm.AbstractCanvasElement.prototype.addCircle=function(a,c,d){var b=new jvm[this.classPrefix+"CircleElement"](a,c);this.add(b,d);return b};jvm.AbstractCanvasElement.prototype.addImage=function(a,c,d){var b=new jvm[this.classPrefix+"ImageElement"](a,c);this.add(b,d);return b};jvm.AbstractCanvasElement.prototype.addGroup=function(b){var a=new jvm[this.classPrefix+"GroupElement"]();if(b){b.node.appendChild(a.node)}else{this.node.appendChild(a.node)}a.canvas=this;return a};jvm.AbstractShapeElement=function(b,a,c){this.style=c||{};this.style.current={};this.isHovered=false;this.isSelected=false;this.updateStyle()};jvm.AbstractShapeElement.prototype.setHovered=function(a){if(this.isHovered!==a){this.isHovered=a;this.updateStyle()}};jvm.AbstractShapeElement.prototype.setSelected=function(a){if(this.isSelected!==a){this.isSelected=a;this.updateStyle();jvm.$(this.node).trigger("selected",[a])}};jvm.AbstractShapeElement.prototype.setStyle=function(c,b){var a={};if(typeof c==="object"){a=c}else{a[c]=b}jvm.$.extend(this.style.current,a);this.updateStyle()};jvm.AbstractShapeElement.prototype.updateStyle=function(){var a={};jvm.$.extend(a,this.style.initial||{});jvm.$.extend(a,this.style.current||{});if(this.isHovered){jvm.$.extend(a,this.style.hover||{})}if(this.isSelected){jvm.$.extend(a,this.style.selected||{});if(this.isHovered){jvm.$.extend(a,this.style.selectedHover||{})}}this.set(a)};